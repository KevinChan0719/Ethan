const i18n = new VueI18n({
  locale: "en_US",
  messages: {
    zh_CN: {
      header: {
        home: "主页",
        about: "关于我们",
        roadmap: "项目进程",
        media: "媒体报道",
        partners: "合作伙伴",
        explorer: "区块浏览器",
        language: "简体中文"
      },
      main: [
        {
          title: 'BTP Mainnet will be Upgraded in May',
          general: "We are going to upgrade Bitcoinpay's mainnet in the following May, 2019, in which we'll change the algorithm from POW to POS in order to fix a variety of security problems resulted from computing fluctuations as well as to avoid computing resources waste. After upgrading, Bitcoinpay is able to support smart contract, which can avoid centralization by oligarchic combination much more better. And currently BTP's main transaction is on zb.com exchange platform and we will be listed on other major exchanges after this mainnet upgrading. ",
          imgUrl: "https://www.btp.top/images/press/press_7.jpg",
          day: "21",
          month: "APR",
          year: "29"
        },
        {
          title: "BTP即将上线qbtc.com",
          general: "QBTC是一个交易平台，中文名字叫国际Q网。将于2018年1月22日18点开放BTP/CNYT交易。BTP中文名比特支付，为比特币的分叉币，采用GPU挖矿，扩容区块为8M，总量2.1亿。",
          imgUrl: "https://www.btp.top/images/press/press_1.jpg",
          day: "21",
          month: "JAN",
          year: "2019"
        },
        {
          title: "比特支付BTP涨幅达870%",
          general: "BTP价格从上线时的16美金涨至最高价139.99美金，目前维持在120美金以上的价格，涨幅高达870%。BTP中文为比特支付，是比特币的反差比，旨在对接全球线上线下支付，采用GPU挖矿，扩容区块为8M，总量2.1亿枚，无预挖。",
          imgUrl: "https://www.btp.top/images/press/press_5.jpg",
          day: "18",
          month: "JAN",
          year: "2019"
        },
        {
          title: "比特支付BTP正式上线ZB",
          general: "今日ZB发布公告称，ZB.com将于2018年1月3日20点开放BTP/QC、BTP/USDT、BTP/BTC交易。BTP中文名称比特支付，是比特币的分叉币，采用GPU挖矿，扩容区块为8M，总量2.1亿枚，无预挖。",
          imgUrl: "https://www.btp.top/images/press/press_6.jpg",
          day: "03",
          month: "JAN",
          year: "2019"
        },
        {
          title: "比特支付(BTP)对外宣布分叉成功 BTP最近参加了瑞典发布会",
          general: "比特币分叉币比特支付(BTP)对外宣布分叉成功，目前在CoinEgg、EXX成功上线交易，同时还将上线Bitfinex、Poloniex、Korbit和BitFlyer等其他交易平台。BTP全球总量为2.1亿个，将会按1BTC=10BTP的比例获得相应数量的BTP。比特币的信用为基础，广泛服务于社会。比特支付是一个超级信贷运营商，其目标是在比特币和其他多种数字货币的联合信贷，建立一个强大的智能合约服务全球网络。BTP最近参加了瑞典一年一度的Sweden Demo Day。",
          imgUrl:
            "https://www.btp.top/images/press/press_4.jpg",
          day: "18",
          month: "DEC",
          year: "2018"
        },
        {
          title: "EXX",
          general: "EXX发布公告称，BitcoinPay（比特支付）将于区块高度499345，预计北京时间12月16日进行分叉，EXX将在分叉时对用户BTC资产进行快照并分发BTP糖果，并计划在分叉成功后安排上线交易。",
          imgUrl: "https://www.btp.top/images/press/EXX.jpg",
          day: "12",
          month: "DEC",
          year: "2018"
        },
        {
          title: "Bitcoin Pay正式携手Bitcoin Flyer分叉比特币 将生成新的分叉币BTP",
          general: "Bitcoin Pay今日官方推特宣称将于UTC+1时间2017年12月16日（暂定）BTC区块高度499345执行分叉，支持隔离验证，加强隐私保护，使用双方向重放保护。采用GPU挖矿，扩容区块为8M，总量2.1亿枚，无预挖。主网于分叉高度达到后30日内上线。并将在全球Bitfinex Poloniex Korbit Exx BitFlyer等十几大知名交易平台陆续进行交易。比特支付是由瑞士，意大利，加拿大，美国，日本，韩国，中国，七个国家技术团队共同联合发起的比特币分叉，全球首发会将于16日在瑞士举行。",
          imgUrl:
            "https://www.btp.top/images/press/press_3.jpg",
          day: "11",
          month: "DEC",
          year: "2018"
        },
        {
          title: "Bitcoin Pay携手Bitcoin Flyer将执行分叉",
          general: "金色财经独家消息，Bitcoin Pay携手Bitcoin Flyer两大专注比特币支付团队宣布：于北京时间2017年12月16日（暂定）BTC区块高度499345执行分叉，将产生新的分叉币“比特支付”（BTP）。该分叉支持隔离验证，加强隐私保护，使用双方向重放保护。采用GPU挖矿（equihash)，扩容区块为8M，总量2.1亿枚，无预挖。主网于分叉高度推出后30日内上线。之后该分叉币将在全球十几大知名交易平台陆续上线。",
          imgUrl: "https://www.btp.top/images/press/press_2.jpg",
          day: "7",
          month: "DEC",
          year: "2018"
        }
      ]
    },
    en_US: {
      header: {
        home: "Home",
        about: "About Us",
        roadmap: "Roadmap",
        media: "Press",
        partners: "Partners",
        explorer: "Explorer",
        language: "English"
      },
      main: [
        {
          title: 'BTP Mainnet will be Upgraded in May',
          general: "We are going to upgrade Bitcoinpay's mainnet in the following May, 2019, in which we'll change the algorithm from POW to POS in order to fix a variety of security problems resulted from computing fluctuations as well as to avoid computing resources waste. After upgrading, Bitcoinpay is able to support smart contract, which can avoid centralization by oligarchic combination much more better. And currently BTP's main transaction is on zb.com exchange platform and we will be listed on other major exchanges after this mainnet upgrading. ",
          imgUrl: "https://www.btp.top/images/press/press_7.jpg",
          day: "21",
          month: "APR",
          year: "29"
        },
        {
          title: "BTP To Be Online On QBTC.COM",
          general: "QBTC is a cryptocurrency exchange as known as “International Q Net” in Chinese. It will open the BTP/CNYT transaction at 18:00, Jan, 22nd, 2018. BTP is short for Bitcoinpay, which is the fork cryptocurrency of Bitcoin. The mining mode of GPU was adopted to expand the capacity to 8M blocks with a total amount of 210,000,000.",
          imgUrl: "https://www.btp.top/images/press/press_1.jpg",
          day: "21",
          month: "JAN",
          year: "2019"
        },
        {
          title: "Bitcoin Pay BTP Rose 870%",
          general: "BTP’s price has increased from online price of $16 to the top price of $139.99 and maintaining price above $120 with an increase of 870%. BTP is short for Bitcoinpay, which is the fork cryptocurrency of Bitcoin. The mining mode of GPU (no pre-mining) was adopted to expand the capacity to 8M blocks with a total amount of 210,000,000.",
          imgUrl: "https://www.btp.top/images/press/press_5.jpg",
          day: "18",
          month: "JAN",
          year: "2019"
        },
        {
          title: "BTP Deposits Is Available On ZB.COM",
          general: "Announced by ZB today, BTP/QC, BTP/USDT, BTP/BTC transactions will be available at 20:00 on Jan, 3rd, 2018. BTP is short for Bitcoinpay, which is the fork cryptocurrency of Bitcoin. The mining mode of GPU (no pre-mining) was adopted to expand the capacity to 8M blocks with a total amount of 210,000,000.",
          imgUrl: "https://www.btp.top/images/press/press_6.jpg",
          day: "03",
          month: "JAN",
          year: "2019"
        },
        {
          title: "BTP Announced Completion Of Forking And Attended A Press Conference In Sweden, Recently",
          general: "BTP announced completion of forking and now is available on CoinEgg and EXX, and other upcoming platforms such as Bitfinex, Poloniex, Korbit, BitFlyer and so on. The total amount of BTP is 210,000,000, which credits 1 BTC for 10 BTP. On the basis of bitcoin credit and aiming at widely use and service in society, Bitcoinpay targets on setting up a powerful cross-chain intelligent contract with bitcoin and other cryptos applying for the whole blockchain. BTP attended the annually Sweden Demo Day recently.",
          imgUrl:
            "https://www.btp.top/images/press/press_4.jpg",
          day: "18",
          month: "DEC",
          year: "2018"
        },
        {
          title: "EXX",
          general: "EXX announced that BitcoinPay will fork on December 16th, at the block height of 499345. On the occasion, EXX will snapshot users’ BTC assets and deposit BTP candy. The transaction will be available after BTP forking.",
          imgUrl: "https://www.btp.top/images/press/EXX.jpg",
          day: "12",
          month: "DEC",
          year: "2018"
        },
        {
          title: "A New Fork Token- BTP To Be Generated By Bitcoin Pay Officially Combined With Bitcoin Flyer",
          general: "Bitcoin Pay today twittered that it will fork on December 16th(tentative), at the height of 499345. It supports isolation verification and also enhances privacy protection while using both parties to replay protection.The mining mode of GPU(no pre- mining) was adopted to expand the capacity to 8M blocks with a total amount of 210, 000, 000.The main network will be available within 30 days after achieving the fork height.BTP transactions will also be listed on Bitfinex, Poloniex, Korbit, Exx, BitFlyer and other well - known platforms.BTP is the fork jointly launched by Sweden, Italy, Canada, USA, Japan, Korea and China.BTP World Premiere will be held in Sweden on 16th.",
          imgUrl:
            "https://www.btp.top/images/press/press_3.jpg",
          day: "11",
          month: "DEC",
          year: "2018"
        },
        {
          title: "Fork Token- BTP To Be Generated By Bitcoin Pay Officially Combined With Bitcoin Flyer",
          general: "Exclusivly reported by Cointime, two teams focusing on Bitcoin payment-Bitcoin Pay and Bitcoin Flyer announced that Bitcoin Pay will fork on December 16th (tentative), at the height of 499345. Meanwhile a new fork token(BTP) will be generated. It supports isolation verification and also enhances privacy protection while using both parties to replay protection. The mining mode of GPU (no pre-mining) was adopted to expand the capacity to 8M blocks with a total amount of 210,000,000. The main network will be available within 30 days after achieving the fork height. BTP transactions will also be listed on a dozen well-known platforms.",
          imgUrl: "https://www.btp.top/images/press/press_2.jpg",
          day: "7",
          month: "DEC",
          year: "2018"
        }
      ]
    }
  }
});


let main = new Vue({
  el: "#app",
  i18n,
  data () {
    return {
      press: [],
      current: {
        title: "",
        general: "",
        imgUrl: "",
        day: "",
        month: ""
      },
      currentPress: ''
    }
  },
  created() {
    this.currentPress = decodeURI(this.getQueryVariable("title"));
    this.$i18n.locale = decodeURI(this.getQueryVariable("lang"));

    this.press = this.$t("main")

    this.press.map(e => {
      if (e.title == this.currentPress) {
        Object.assign(this.current, e);
      }
    });
  },
  mounted() {
    if (this.$i18n.locale === "zh_CN") {
      document.title = "比特币支付-" + this.current.title;
    } else {
      document.title = "BitcoinPay-" + this.current.title;
    }
  },
  methods: {
    data(day, month) {
      if (this.$i18n.locale === "zh_CN") {
        let mon;
        switch (month) {
          case "JAN":
            mon = "一月";
            break;
          case "FEB":
            mon = "二月";
            break;
          case "MAR":
            mon = "三月";
            break;
          case "APR":
            mon = "四月";
            break;
          case "MAY":
            mon = "五月";
            break;
          case "JUNE":
            mon = "六月";
            break;
          case "JULY":
            mon = "七月";
            break;
          case "AUG":
            mon = "八月";
            break;
          case "SEPT":
            mon = "九月";
            break;
          case "OCT":
            mon = "十月";
            break;
          case "NOV":
            mon = "十一月";
            break;
          case "DEC":
            mon = "十二月";
            break;
        }
        return `${mon} ${day}`;
      } else {
        return `${month} ${day}`;
      }
    },
    getQueryVariable(variable) {
      var query = window.location.search.substring(1);
      var vars = query.split("&");
      for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split("=");
        if (pair[0] == variable) {
          return pair[1];
        }
      }
      return false;
    },
    onmouseover(e) {
      this.$refs.changeLang.style.display = "block";
    },
    onmouseout(e) {
      this.$refs.changeLang.style.display = "none";
    },
    changeLang(lang) {
      let index
      for (let i = 0; i < this.press.length; i++) {
        if (this.current.title === this.press[i].title) index = i
      }

      this.$refs.changeLang.style.display = "none";
      if (lang === "CN") {
        this.$set(this.$i18n, "locale", "zh_CN");
      } else {
        this.$set(this.$i18n, "locale", "en_US");
      }

      this.press = this.$t("main")

      this.press.map((e, i) => {
        if (i === index) {
          Object.assign(this.current, e);
        }
      });

      if (lang === "CN") {
        document.title = "比特币支付-" + this.current.title;
      } else {
        document.title = "BitcoinPay-" + this.current.title;
      }
    }
  }
});
